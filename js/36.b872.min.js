(window.webpackJsonp=window.webpackJsonp||[]).push([[36,54],{348:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));n(321);var a=n(144),i=(n(537),n(536)),l=(n(135),n(51)),r=(n(137),n(30)),o=(n(320),n(140)),s=n(45),d=n.n(s),c=n(46),u=n.n(c),p=n(47),h=n.n(p),m=n(48),g=n.n(m),f=n(49),v=n.n(f),b=(n(318),n(136)),y=n(0),x=n.n(y),w=n(134),C=n(50),D=n(642),E=(n(527),n(36)),k=(b.a.Option,function(e){function t(e){var n;d()(this,t);var a=(n=h()(this,g()(t).call(this,e))).props.data;return n.state={productList:a.proNames,shAddressList:a.address,visible:!1,loading:!1},n}return v()(t,e),u()(t,[{key:"loading",value:function(e){this.setState({loading:e})}},{key:"submit",value:function(e){var t=this,n=this.refs.previewData.getDataProductDefalut();this.loading(!0),Object(C.a)(E.a.invitUpdate).post({id:this.props.relaId,operaStatus:e,productList:n.map((function(e){var t=e.categoryCode.split("/")||[];return{categoryCode:t[t.length-1]||"",categoryName:e.categoryName}})),shAddressList:this.refs.previewData.getDataAddrDefault(),remark:this.state.remark||""}).then((function(n){o.a.success("操作成功！"),t.props.onSelectOperaStatus(e)})).catch((function(n){t.props.onSelectOperaStatus(e)}))}},{key:"render",value:function(){var e=this.props.data;return x.a.createElement(a.a,{spinning:this.state.loading},x.a.createElement(l.a,{justify:"center"},x.a.createElement(r.a,{span:24},x.a.createElement(l.a,null,x.a.createElement(r.a,{span:12},x.a.createElement(w.c,{column:1,cols:[{label:"名称",dataIndex:"tenantName"},{label:"关系类型",dataIndex:"relaType"},{label:"地址",dataIndex:"taddress"}],data:e})),x.a.createElement(r.a,{span:12},x.a.createElement(w.c,{column:1,cols:[{label:"创建日期",dataIndex:"createTime",date:!0},{label:"说明",dataIndex:"description"}],data:e}))),x.a.createElement(D.a,{dataProductDefalut:this.state.productList,dataAddrDefault:this.state.shAddressList,ref:"previewData"}),x.a.createElement(l.a,null,x.a.createElement(r.a,{span:24,style:{textAlign:"right"}},x.a.createElement(i.a,{type:"primary",style:{marginLeft:"24px"},onClick:this.submit.bind(this,2)},"接受"),x.a.createElement(i.a,{type:"primary",danger:!0,style:{marginLeft:"24px"},onClick:this.submit.bind(this,3)},"拒绝"))))))}}]),t}(x.a.Component))},527:function(e,t,n){var a=n(15),i=n(696);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1},r=(a(i,l),i.locals?i.locals:{});e.exports=r},642:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));n(553);var a=n(555),i=(n(537),n(536)),l=(n(320),n(140)),r=n(45),o=n.n(r),s=n(46),d=n.n(s),c=n(47),u=n.n(c),p=n(48),h=n.n(p),m=n(317),g=n.n(m),f=n(49),v=n.n(f),b=n(73),y=n.n(b),x=(n(318),n(136)),w=n(0),C=n.n(w),D=(n(134),n(50)),E=n(36),k=(n(643),x.a.Option),L=function(e){function t(e){var n;return o()(this,t),n=u()(this,h()(t).call(this,e)),y()(g()(n),"addDefaultList",(function(e,t){if(console.log("addDefaultList val: >>>>>>>>> ",e),console.log("addDefaultList >>>>>>>>>  this.state.dataAddrDefault: ",n.state.dataAddrDefault),e.regionCode){var a=!1;if(n.state.dataAddrDefault.map((function(t){var n=t.serviceAddress.replace(/\//g,"");console.log("addDefaultList fullpath: >>>>>>>>> ",n),n==e.regionCnFullPath&&(a=!0)})),a)return void l.a.error("此项已在列表中！");var i;i={serviceAddress:e.regionCnFullPath.replace(/(=>)/g,"/"),serviceAddressId:e.regionCode};var r=n.state.dataAddrDefault;r.push(i),console.log("地址 >>>>>>>>> obj: ",i),n.setState({dataAddrDefault:r})}else{var o=!1;if(n.state.dataProductDefalut.map((function(t){t.categoryCode==e.code&&(o=!0)})),o)return void l.a.error("此项已在列表中！");var s={categoryCode:e.codeFullPath.replace(/(=>)/g,"/"),categoryName:e.fullPath.replace(/(=>)/g,"/")};console.log("产品 >>>>>>>>>  obj: ",s);var d=n.state.dataProductDefalut;d.push(s),n.setState({dataProductDefalut:d})}n.setState({visible:!1})})),y()(g()(n),"delDefaultList",(function(e,t){console.log("delDefaultList >>>>>>>>> val : ",e),console.log("delDefaultList >>>>>>>>> type : ",t);var a=[];"prd"==t?(n.state.dataProductDefalut.map((function(t){t.categoryCode!=e.categoryCode&&a.push(t)})),n.setState({dataProductDefalut:a},(function(){n.getDataProductDefalut()}))):(n.state.dataAddrDefault.map((function(t){t.serviceAddress!=e.serviceAddress&&a.push(t)})),n.setState({dataAddrDefault:a},(function(){n.getDataAddrDefault()})))})),y()(g()(n),"searchInfo",(function(e,t){/.*[\u4e00-\u9fa5]+.*/.test(t)&&(console.log("searchInfo >>>>>>>>>> type : ",e),console.log("searchInfo >>>>>>>>>> value : ",t),"prd"==e&&Promise.all([Object(D.a)(E.a.getProductList).get({name:t})]).then((function(e){console.log("searchInfo >>>>>>>>>> res[0].data : ",e[0].data);var t=n.getPrdOptionEle(e[0].data);console.log("searchInfo >>>>>>>>>> prdOption : ",t),n.setState({prdOptionEle:t})})))})),y()(g()(n),"close",(function(){n.setState({visible:!1})})),y()(g()(n),"selectEleChild",(function(e,t){null==e&&(e=[]),console.log("selectEleChild >>>>>>>>> num: ",t),console.log("selectEleChild >>>>>>>>> item: ",e);var a=[];switch(a=null==e.children?null==e.regionResVOS?[]:e.regionResVOS:null==e.children?[]:e.children,t){case"1":n.setState({countryId:e.regionCode,countryName:e.regionCn,provinceId:"",provinceName:"",cityId:"",cityName:"",priviewListTwo:a,priviewListThree:[],priviewListFour:[]});break;case"2":n.setState({provinceId:e.regionCode,provinceName:e.regionCn,cityId:"",cityName:"",priviewListThree:a,priviewListFour:[]});break;case"3":null==e.children?n.setState({cityId:e.regionCode,cityName:e.regionCn,priviewListFour:[]}):n.setState({priviewListFour:a})}})),y()(g()(n),"showPreview",(function(e){console.log("showPreview >>>>>>>>> ",e);var t="",a=[];if("prd"===e)console.log("showPreview >>>>>>>>> this.state.priviewList: ",n.state.dataProduct),t="产品和服务类别",a=n.state.dataProduct;else{var i=JSON.parse(localStorage.getItem("country"));console.log("showPreview >>>>>>>>> country: ",i),a=i,t="送货或服务地点"}n.setState({visible:!0,priviewListOne:a,priviewListTwo:[],priviewListThree:[],priviewListFour:[],modalTitle:t})})),n.state={dataProduct:[],dataProductDefalut:e.dataProductDefalut||[],dataAddrDefault:e.dataAddrDefault||[],visible:!1,modalTitle:"",countryId:"",countryName:"",provinceId:"",provinceName:"",cityId:"",cityName:"",priviewListOne:[],priviewListTwo:[],priviewListThree:[],priviewListFour:[],prdOptionEle:null,addrOptionEle:null},n}return v()(t,e),d()(t,[{key:"getPrdOptionEle",value:function(e){var t=[];return null!=e&&e.map((function(e){t.push(C.a.createElement(k,{value:JSON.stringify(e),key:e.code},e.name))})),t}},{key:"onPrdChange",value:function(e){if(console.log("onPrdChange >>>>>>>>>> val : ",e),null!=e&&null!=e&&""!=e){var t=JSON.parse(e),n={categoryName:t.fullPath.replace(/(=>)/g,"/"),categoryCode:t.code},a=this.state.dataProductDefalut;a.push(n),this.setState({dataProductDefalut:a})}}},{key:"getDataProductDefalut",value:function(){return this.state.dataProductDefalut}},{key:"getDataAddrDefault",value:function(){return this.state.dataAddrDefault}},{key:"componentDidMount",value:function(){var e=this;console.log("this.props .......... : ",this.props),Promise.all([Object(D.a)(E.a.getProductList).get(),Object(D.a)(E.a.getCountry).get()]).then((function(t){localStorage.setItem("country",JSON.stringify(t[1].data)),e.setState({dataProduct:t[0].data})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.dataAddrDefault,l=t.dataProductDefalut;return C.a.createElement("div",null,Object(D.l)([C.a.createElement("div",{name:"productType",label:""},C.a.createElement("div",{className:"title-blue"},"产品和服务类别"),C.a.createElement("div",{className:"title-select"},C.a.createElement(x.a,{showSearch:!0,style:{width:230,height:34},placeholder:"请输入关键字",optionFilterProp:"children",onChange:this.onPrdChange.bind(this),onSearch:this.searchInfo.bind(this,"prd"),filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.prdOptionEle),C.a.createElement(i.a,{type:"primary",style:{marginLeft:"24px"},onClick:this.showPreview.bind(this,"prd")},"预览")),l.map((function(t){return C.a.createElement("div",{key:t.categoryCode,className:"title-list"},C.a.createElement("a",{className:"title-list-a",title:t.categoryName},t.categoryName),C.a.createElement("span",{onClick:e.delDefaultList.bind(e,t,"prd"),className:"close"}))}))),C.a.createElement("div",{name:"serverAddr",label:"",rules:[{type:"englishCode"}]},C.a.createElement("div",{className:"title-blue"},"送货或服务地点"),C.a.createElement("div",{className:"title-select"},C.a.createElement(x.a,{showSearch:!0,style:{width:230,height:34},placeholder:"请选择",onClick:this.showPreview.bind(this,"addr")}),C.a.createElement(i.a,{type:"primary",style:{marginLeft:"24px"},onClick:this.showPreview.bind(this,"addr")},"预览")),n.map((function(t){return C.a.createElement("div",{key:t.serviceAddress,className:"title-list"},C.a.createElement("a",{className:"title-list-a",title:t.serviceAddress},t.serviceAddress),C.a.createElement("span",{onClick:e.delDefaultList.bind(e,t,"addr"),className:"close"}))})))],2),C.a.createElement(a.a,{width:"1000px",visible:this.state.visible,footer:!0,title:this.state.modalTitle,onCancel:this.close},C.a.createElement("div",{className:"md-bg"},C.a.createElement("div",{className:"md-bg-ul"},this.state.priviewListOne.map((function(t){return C.a.createElement("div",{key:null==t.code?t.regionCode:t.code,className:"md-bg-ul-li"},C.a.createElement("p",{onClick:e.selectEleChild.bind(e,t,"1")},null==t.name?t.regionCn:t.name),C.a.createElement("a",{style:{display:"2"==t.isChoose||null!=t.regionResVOS?"none":"block"},onClick:e.addDefaultList.bind(e,t,"1")},"+"))}))),C.a.createElement("div",{className:"md-bg-ul"},this.state.priviewListTwo.map((function(t){return C.a.createElement("div",{key:null==t.code?t.regionCode:t.code,className:"md-bg-ul-li"},C.a.createElement("p",{onClick:e.selectEleChild.bind(e,t,"2")},null==t.name?null==t.regionCn?"-":t.regionCn:t.name),C.a.createElement("a",{style:{display:"2"==t.isChoose||null!=t.regionResVOS?"none":"block"},onClick:e.addDefaultList.bind(e,t,"2")},"+"))}))),C.a.createElement("div",{className:"md-bg-ul"},this.state.priviewListThree.map((function(t){return C.a.createElement("div",{key:null==t.code?t.regionCode:t.code,className:"md-bg-ul-li"},C.a.createElement("p",{onClick:e.selectEleChild.bind(e,t,"3")},null==t.name?t.regionCn:t.name),C.a.createElement("a",{style:{display:"2"==t.isChoose?"none":"block"},onClick:e.addDefaultList.bind(e,t,"3")},"+"))}))),C.a.createElement("div",{className:"md-bg-ul"},this.state.priviewListFour.map((function(t){return C.a.createElement("div",{key:null==t.code?t.regionCode:t.code,className:"md-bg-ul-li"},C.a.createElement("p",null,null==t.name?t.regionCn:t.name),C.a.createElement("a",{style:{display:"2"==t.isChoose?"none":"block"},onClick:e.addDefaultList.bind(e,t)},"+"))}))))))}}]),t}(C.a.Component)},643:function(e,t,n){var a=n(15),i=n(644);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1},r=(a(i,l),i.locals?i.locals:{});e.exports=r},644:function(e,t,n){(t=n(16)(!1)).push([e.i,'.company-input {\n  width: 230px;\n  height: 34px;\n  border: 1px solid #dcdcdc;\n  border-radius: 4px;\n}\n.title-blue {\n  width: 230px;\n  height: 34px;\n  text-align: left;\n  line-height: 34px;\n  color: #367DFF;\n}\n.title-select {\n  display: flex;\n}\n.title-list {\n  width: 230px;\n  height: 34px;\n  line-height: 34px;\n  border: 1px solid #DCDCDC;\n  border-radius: 4px;\n  margin-top: 18px;\n  padding-left: 12px;\n  color: #242424;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.title-list-a {\n  width: 190px;\n  height: 34px;\n  display: block;\n  line-height: 34px;\n  color: #242424;\n  border-bottom: 1px solid #DCDCDC;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.close {\n  width: 16px;\n  height: 16px;\n  position: relative;\n  border-radius: 50%;\n  display: block;\n  margin: 15px 5px 0 0;\n  padding: 18px 0;\n}\n.close::before,\n.close::after {\n  content: "";\n  position: absolute;\n  /*方便进行定位*/\n  background-color: #BFBFBF;\n  height: 16px;\n  width: 2px;\n  top: 50%;\n  left: 50%;\n  margin-top: -15px;\n  margin-left: -1px;\n}\n.close::before {\n  transform: rotate(45deg);\n  /*进行旋转*/\n}\n.close::after {\n  transform: rotate(-45deg);\n}\n.md-bg {\n  width: 100%;\n  height: 380px;\n  display: flex;\n  flex-direction: row;\n}\n.md-bg .md-bg-ul {\n  flex: 1;\n  height: auto;\n  border: 1px solid #DCDCDC;\n  margin-left: 10px;\n  overflow: auto;\n}\n.md-bg .md-bg-ul .md-bg-ul-li {\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  color: #5A5A5A;\n  font-size: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: 1px solid #DCDCDC;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.md-bg .md-bg-ul .md-bg-ul-li p {\n  width: 100%;\n  margin: 0;\n  height: 34px;\n  line-height: 34px;\n  color: #242424;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0 0 0 10px;\n}\n.md-bg .md-bg-ul .md-bg-ul-li a {\n  width: 30px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  color: #367DFF;\n  display: block;\n  font-size: 18px;\n  font-weight: bolder;\n  margin-left: 10px;\n}\n.md-bg .md-bg-ul .md-bg-ul-li:hover {\n  background-color: #DCDCDC;\n}\n/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n',""]),e.exports=t},696:function(e,t,n){(t=n(16)(!1)).push([e.i,'.company-input {\n  width: 230px;\n  height: 34px;\n  border: 1px solid #dcdcdc;\n  border-radius: 4px;\n}\n.title-blue {\n  width: 230px;\n  height: 34px;\n  text-align: left;\n  line-height: 34px;\n  color: #367DFF;\n}\n.title-list {\n  width: 230px;\n  height: 34px;\n  line-height: 34px;\n  border: 1px solid #DCDCDC;\n  border-radius: 4px;\n  margin-top: 30px;\n  padding-left: 12px;\n  color: #242424;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.title-list-p {\n  margin: 0;\n  padding: 0;\n}\n.close {\n  width: 20px;\n  height: 20px;\n  position: relative;\n  border-radius: 50%;\n  display: block;\n  margin: 10px 5px 0 0;\n}\n.close::before,\n.close::after {\n  content: "";\n  position: absolute;\n  /*方便进行定位*/\n  background-color: #BFBFBF;\n  height: 20px;\n  width: 2px;\n  top: 50%;\n  left: 50%;\n  margin-top: -15px;\n  margin-left: -1px;\n}\n.close::before {\n  transform: rotate(45deg);\n  /*进行旋转*/\n}\n.close::after {\n  transform: rotate(-45deg);\n}\n.ant-select {\n  width: 230px !important;\n  border: none;\n  border-radius: 4px;\n}\n.City_height {\n  margin-top: 10px;\n}\n/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\n/* stylelint-disable no-duplicate-selectors */\n/* stylelint-disable */\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\n',""]),e.exports=t}}]);