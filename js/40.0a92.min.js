(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{352:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var r=n(93),a=n.n(r),o=(n(537),n(536)),i=(n(319),n(139)),c=(n(589),n(590)),s=(n(320),n(140)),l=n(45),u=n.n(l),f=n(46),p=n.n(f),d=n(47),m=n.n(d),h=n(48),b=n.n(h),y=n(317),g=n.n(y),v=n(49),O=n.n(v),N=n(73),E=n.n(N),C=n(0),w=n.n(C),k=n(604),j=n(50),T=n(36);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){function t(e){var n;u()(this,t),n=m()(this,b()(t).call(this,e)),E()(g()(n),"formRef",w.a.createRef());var r=n.props.formData;return n.state={formData:x({},n.props.formData),submitDisabled:n.getDisableBtnStatus(r),loading:!1},n}return O()(t,e),p()(t,[{key:"onSubmit",value:function(){var e=this;this.formRef.current.validateFields().then((function(t){var n=e.state.formData,r=x({},e.state.formData,{},1===n.accountType?{userName:t.userName,idNo:t.idNo}:{fullName:t.fullName,englishName:t.englishName,shortName:t.shortName});e.setState({loading:!0}),e.register(r).then((function(t){e.props.onFinish({finished:!0}),e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1})}))})).catch((function(e){console.log(e)}))}},{key:"register",value:function(e){return Object(j.a)(T.a.register).post(e).catch((function(e){return 5500===e.code?s.a.error("操作失败，请重试"):5509===e.code&&s.a.error("注册失败，请重试"),Promise.reject(e)}))}},{key:"onValuesChange",value:function(e,t){this.setState({submitDisabled:this.getDisableBtnStatus(t)})}},{key:"getDisableBtnStatus",value:function(e){return 1===this.props.formData.accountType?!e.userName:!(e.fullName&&e.englishName)}},{key:"render",value:function(){var e=this.state.formData,t={labelCol:1===e.accountType?{flex:"0 0 82px"}:{flex:"0 0 130px"},wrapperCol:{flex:"1 0 auto"}};return w.a.createElement(i.a,a()({className:"form-wrap"},t,{ref:this.formRef,initialValues:e,onValuesChange:this.onValuesChange.bind(this)}),w.a.createElement("div",{className:"form-content register-step3"},1===e.accountType&&w.a.createElement("div",null,w.a.createElement(i.a.Item,{label:"姓名",name:"userName",rules:[{required:!0,message:"请输入真实姓名"}]},w.a.createElement(c.a,{placeholder:"请输入真实姓名",maxLength:100})),w.a.createElement(i.a.Item,{label:"身份证号",name:"idNo",rules:Object(k.b)([{type:k.a.idCard,message:"请输入正确的身份证号"}])},w.a.createElement(c.a,{placeholder:"请输入身份证号",maxLength:18}))),2===e.accountType&&w.a.createElement("div",null,w.a.createElement(i.a.Item,{label:"公司名称",name:"fullName",rules:[{required:!0,message:"请输入公司名称"}]},w.a.createElement(c.a,{placeholder:"请输入公司名称",maxLength:200})),w.a.createElement(i.a.Item,{label:"公司名称（英文）",name:"englishName",rules:Object(k.b)([{required:!0,message:"请输入公司英文名称"},{type:k.a.enChar,message:"请输入正确的公司英文名称"}])},w.a.createElement(c.a,{placeholder:"请输入公司英文名称",maxLength:200})),w.a.createElement(i.a.Item,{label:"公司简称",name:"shortName"},w.a.createElement(c.a,{placeholder:"请输入公司简称",maxLength:200}))),3===e.accountType&&w.a.createElement("div",null,w.a.createElement(i.a.Item,{label:"组织名称",name:"fullName",rules:[{required:!0,message:"请输入组织名称"}]},w.a.createElement(c.a,{placeholder:"请输入组织名称",maxLength:200})),w.a.createElement(i.a.Item,{label:"组织名称（英文）",name:"englishName",rules:Object(k.b)([{required:!0,message:"请输入组织英文名称"},{type:k.a.enChar,message:"请输入正确的组织英文名称"}])},w.a.createElement(c.a,{placeholder:"请输入组织英文名称",maxLength:200})),w.a.createElement(i.a.Item,{label:"组织简称",name:"shortName"},w.a.createElement(c.a,{placeholder:"请输入组织简称",maxLength:200})))),w.a.createElement(i.a.Item,{className:"form-footer"},w.a.createElement(o.a,{type:"primary",disabled:this.state.submitDisabled,loading:this.state.loading,onClick:this.onSubmit.bind(this)},"注册")))}}]),t}(w.a.Component)},536:function(e,t,n){"use strict";var r=n(0),a=n(3),o=n.n(a),i=n(53),c=n.n(i),s=n(13),l=n(94),u=n(550),f=n(37),p=n(9),d=n(66);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},E=/^[\u4e00-\u9fa5]{2}$/,C=E.test.bind(E);function w(e,t){var n=!1,a=[];return r.Children.forEach(e,(function(e){var t=O(e),r="string"===t||"number"===t;if(n&&r){var o=a.length-1,i=a[o];a[o]="".concat(i).concat(e)}else a.push(e);n=r})),r.Children.map(a,(function(e){return function(e,t){if(null!=e){var n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&C(e.props.children)?r.cloneElement(e,{},e.props.children.split("").join(n)):"string"==typeof e?(C(e)&&(e=e.split("").join(n)),r.createElement("span",null,e)):e}}(e,t)}))}Object(f.a)("default","primary","ghost","dashed","danger","link"),Object(f.a)("circle","circle-outline","round"),Object(f.a)("submit","button","reset");var k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,g(t).call(this,e))).saveButtonRef=function(e){n.buttonNode=e},n.handleClick=function(e){var t=n.state.loading,r=n.props.onClick;t||r&&r(e)},n.state={loading:e.loading,hasTwoCNChar:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){this.fixTwoCNChar()}},{key:"componentDidUpdate",value:function(e){var t=this;this.fixTwoCNChar(),e.loading&&"boolean"!=typeof e.loading&&clearTimeout(this.delayTimeout);var n=this.props.loading;n&&"boolean"!=typeof n&&n.delay?this.delayTimeout=window.setTimeout((function(){t.setState({loading:n})}),n.delay):e.loading!==n&&this.setState({loading:n})}},{key:"componentWillUnmount",value:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)}},{key:"fixTwoCNChar",value:function(){var e=this.context.autoInsertSpaceInButton;if(this.buttonNode&&!1!==e){var t=this.buttonNode.textContent;this.isNeedInserted()&&C(t)?this.state.hasTwoCNChar||this.setState({hasTwoCNChar:!0}):this.state.hasTwoCNChar&&this.setState({hasTwoCNChar:!1})}}},{key:"isNeedInserted",value:function(){var e=this.props,t=e.icon,n=e.children,a=e.type;return 1===r.Children.count(n)&&!t&&"link"!==a}},{key:"render",value:function(){var e=this,t=this.context,n=t.getPrefixCls,a=t.autoInsertSpaceInButton,i=t.direction;return r.createElement(d.b.Consumer,null,(function(t){var l,f=e.props,d=f.prefixCls,b=f.type,y=f.danger,g=f.shape,v=f.size,O=f.className,E=f.children,C=f.icon,k=f.ghost,j=f.block,T=N(f,["prefixCls","type","danger","shape","size","className","children","icon","ghost","block"]),S=e.state,x=S.loading,P=S.hasTwoCNChar;Object(p.a)(!("string"==typeof C&&C.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(C,"` at https://ant.design/components/icon"));var I=n("btn",d),D=!1!==a,_="";switch(v||t){case"large":_="lg";break;case"small":_="sm"}var L=x?"loading":C,$=o()(I,O,(h(l={},"".concat(I,"-").concat(b),b),h(l,"".concat(I,"-").concat(g),g),h(l,"".concat(I,"-").concat(_),_),h(l,"".concat(I,"-icon-only"),!E&&0!==E&&L),h(l,"".concat(I,"-loading"),!!x),h(l,"".concat(I,"-background-ghost"),k),h(l,"".concat(I,"-two-chinese-chars"),P&&D),h(l,"".concat(I,"-block"),j),h(l,"".concat(I,"-dangerous"),!!y),h(l,"".concat(I,"-rtl"),"rtl"===i),l)),A=x?r.createElement(c.a,null):C||null,R=E||0===E?w(E,e.isNeedInserted()&&D):null,B=Object(s.a)(T,["htmlType","loading"]);if(void 0!==B.href)return r.createElement("a",m({},B,{className:$,onClick:e.handleClick,ref:e.saveButtonRef}),A,R);var q=T,V=q.htmlType,W=N(q,["htmlType"]),M=r.createElement("button",m({},Object(s.a)(W,["loading"]),{type:V,className:$,onClick:e.handleClick,ref:e.saveButtonRef}),A,R);return"link"===b?M:r.createElement(u.a,null,M)}))}}])&&b(n.prototype,a),i&&b(n,i),t}(r.Component);k.__ANT_BUTTON=!0,k.contextType=l.b,k.defaultProps={loading:!1,ghost:!1,block:!1,htmlType:"button"};var j=k;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},P=function(e){return r.createElement(l.a,null,(function(t){var n,a=t.getPrefixCls,i=t.direction,c=e.prefixCls,s=e.size,l=e.className,u=x(e,["prefixCls","size","className"]),f=a("btn-group",c),p="";switch(s){case"large":p="lg";break;case"small":p="sm"}var d=o()(f,(S(n={},"".concat(f,"-").concat(p),p),S(n,"".concat(f,"-rtl"),"rtl"===i),n),l);return r.createElement("div",T({},u,{className:d}))}))};j.Group=P;t.a=j},550:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,a=n(0),o=n(7),i=n(55),c=n(591),s=n(94);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return!e||null===e.offsetParent}function y(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}var g=function(e){function t(){var e;return u(this,t),(e=p(this,d(t).apply(this,arguments))).animationStart=!1,e.destroy=!1,e.onClick=function(t,n){if(!(!t||b(t)||t.className.indexOf("-leave")>=0)){var a=e.props.insertExtraNode;e.extraNode=document.createElement("div");var o=m(e).extraNode;o.className="ant-click-animating-node";var c=e.getAttributeName();t.setAttribute(c,"true"),r=r||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&y(n)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(n)&&"transparent"!==n&&(e.csp&&e.csp.nonce&&(r.nonce=e.csp.nonce),o.style.borderColor=n,r.innerHTML="\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ".concat(n,";\n      }"),document.body.contains(r)||document.body.appendChild(r)),a&&t.appendChild(o),i.a.addStartEventListener(t,e.onTransitionStart),i.a.addEndEventListener(t,e.onTransitionEnd)}},e.onTransitionStart=function(t){if(!e.destroy){var n=Object(o.findDOMNode)(m(e));t&&t.target===n&&(e.animationStart||e.resetEffect(n))}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!b(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),c.a.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=Object(c.a)((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;return e.csp=n,r},e}var n,l,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(l=[{key:"componentDidMount",value:function(){var e=Object(o.findDOMNode)(this);e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroy=!0}},{key:"getAttributeName",value:function(){return this.props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"resetEffect",value:function(e){if(e&&e!==this.extraNode&&e instanceof Element){var t=this.props.insertExtraNode,n=this.getAttributeName();e.setAttribute(n,"false"),r&&(r.innerHTML=""),t&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),i.a.removeStartEventListener(e,this.onTransitionStart),i.a.removeEndEventListener(e,this.onTransitionEnd)}}},{key:"render",value:function(){return a.createElement(s.a,null,this.renderWave)}}])&&f(n.prototype,l),g&&f(n,g),t}(a.Component)},604:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(50),a=Object(r.b)(["registerNo","idCard","phone","enChar","cnChar","integer"]),o=function(e){var t=e.type,n=void 0===t?null:t,r=e.required,o=void 0!==r&&r,i={};if(o&&(i.required=o),!n)return[i];switch(n){case a.registerNo:i.pattern=/^\d{5}$/,i.message="输入不符合注册号格式, 应为5位数字";break;case a.idCard:i.pattern=/(^\d{15}$)|(^\d{17}(\d|X)$)/,i.message="请输入正确的身份证号";break;default:i.type=n}return[i]},i=function(e){return e.map((function(e){var t={};switch(e.type){case a.registerNo:t.pattern=/^\d{5}$/,t.message="输入不符合注册号格式, 应为5位数字";break;case a.idCard:t.pattern=/(^\d{15}$)|(^\d{17}(\d|X)$)/,t.message="请输入正确的身份证号";break;case a.phone:t.pattern=/^1[0-9]{10}$/,t.message="请输入正确的手机号";break;case a.integer:e.length?t.pattern=new RegExp("^\\d{".concat(e.length,"}$")):t.pattern=/^\d+$/,t.message="请输入正确的整数数字";break;case a.cnChar:t.pattern=/^[\u4e00-\u9fa5]+$/,t.message="请输入合法的中文字符";break;case a.enChar:t.pattern=/^[a-zA-Z\s\d]+$/,t.message="请输入合法的英文字符";break;default:return e}return t.message=e.message||t.message,t}))}}}]);